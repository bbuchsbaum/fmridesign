% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hrf-formula.R
\name{trialwise}
\alias{trialwise}
\title{trialwise}
\usage{
trialwise(
  basis = "spmg1",
  lag = 0,
  nbasis = 1,
  add_sum = FALSE,
  label = "trial"
)
}
\arguments{
\item{basis, lag, nbasis}{Passed straight to \code{hrf()}.}

\item{add_sum}{If TRUE, append a column that is the average of all
trialwise columns (useful as a conventional main effect).}

\item{label}{Term label / prefix for the generated columns.}
}
\value{
An \code{hrfspec} term to be used on the RHS of an event-model formula.
}
\description{
Generate one regressor per trial (plus an optional grand-mean column)
by delegating everything to \code{hrf()}.
}
\details{
Use it \strong{only on the RHS} of an event-model formula:

\if{html}{\out{<div class="sourceCode">}}\preformatted{onset ~ trialwise(basis = "spmg1", add_sum = TRUE)
}\if{html}{\out{</div>}}
}
\examples{
# Create example trial data for beta-series analysis
trial_data <- data.frame(
  onset = c(2, 8, 14, 20, 26),
  run = c(1, 1, 1, 1, 1)
)

# Create sampling frame (30 TRs, TR=2s)
sframe <- fmrihrf::sampling_frame(blocklens = 30, TR = 2)

# Basic trialwise model - creates one regressor per trial
emod_trials <- event_model(onset ~ trialwise(),
                          data = trial_data,
                          block = ~run,
                          sampling_frame = sframe)
print(emod_trials)

# Trialwise with different basis and grand mean
emod_trials_mean <- event_model(onset ~ trialwise(basis = "spmg2", add_sum = TRUE),
                               data = trial_data,
                               block = ~run,
                               sampling_frame = sframe)
print(emod_trials_mean)
}
