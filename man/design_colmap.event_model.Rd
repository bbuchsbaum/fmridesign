% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/design_colmap.R
\name{design_colmap.event_model}
\alias{design_colmap.event_model}
\title{Column metadata for a design matrix}
\usage{
\method{design_colmap}{event_model}(x, ...)
}
\arguments{
\item{x}{An object containing or producing a design matrix
(e.g., \code{event_model}, \code{baseline_model}).}

\item{...}{Unused; reserved for future extensions.}
}
\value{
A tibble with columns:
\itemize{
\item \code{col} (integer): 1-based column index
\item \code{name} (character): column name
\item \code{term_tag} (character): term identifier (event tag or baseline term name)
\item \code{term_index} (integer): position within \code{terms(x)}
\item \code{condition} (character): condition/event label without basis suffix (if applicable)
\item \code{run} (integer): block/run id when the column is block-specific; \code{NA} if pooled
\item \code{role} (character): e.g., "task", "drift", "intercept", "nuisance"
\item \code{model_source} (character): "event" or "baseline"
\item \code{basis_name} (character): HRF or baseline basis identifier when available
\item \code{basis_ix} (integer): within-condition basis index (HRF component); \code{NA} if not applicable
\item \code{basis_total} (integer): total number of basis components for the column's term; \code{NA} if not applicable
\item \code{basis_label} (character): human-readable label for the basis component when known
\item \code{pretty_name} (character): concise, human-friendly label for display (e.g., "RT" or "RT_lag_02")
\item \code{is_block_diagonal} (logical): TRUE when the regressor is per-run/block
\item \code{modulation_type} (character): "amplitude", "parametric", or "covariate"
\item \code{modulation_id} (character): modulator identifier when applicable (e.g., "RT", "RT_by_group")
}
}
\description{
Returns a tibble with one row per column of the design matrix and
structured metadata derived from existing package attributes and
naming conventions. This avoids ad-hoc string parsing in user code
and provides a consistent, queryable view of the design.
}
\examples{
# Create event model
des <- data.frame(
  onset = c(0, 10, 20, 30),
  run = 1,
  cond = factor(c("A", "B", "A", "B"))
)
sframe <- fmrihrf::sampling_frame(blocklens = 40, TR = 1)
emod <- event_model(onset ~ hrf(cond), data = des, block = ~run, sampling_frame = sframe)

# Get column metadata
colmap <- design_colmap(emod)
head(colmap)

# Query columns by condition
colmap[colmap$condition == "A", ]
}
