% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validate.R
\name{check_collinearity}
\alias{check_collinearity}
\title{Check design matrix for multicollinearity}
\usage{
check_collinearity(X, threshold = 0.9)
}
\arguments{
\item{X}{A numeric design matrix (or an \code{event_model}).}

\item{threshold}{Absolute correlation above which a pair is flagged. Default 0.9.}
}
\value{
A list with elements: \code{ok} (logical), \code{pairs} (data.frame with
offending pairs and their correlations). Invisibly returns the same list.
}
\description{
Convenience helper to quickly flag highly correlated regressors.
}
\examples{
# Create a simple event model
des <- data.frame(
  onset = c(0, 10, 20, 30),
  run = 1,
  cond = factor(c("A", "B", "A", "B"))
)
sframe <- fmrihrf::sampling_frame(blocklens = 40, TR = 1)
emodel <- event_model(onset ~ hrf(cond), data = des, block = ~run,
                      sampling_frame = sframe)

# Check for multicollinearity
res <- check_collinearity(design_matrix(emodel), threshold = 0.95)
if (!res$ok) print(res$pairs)
}
