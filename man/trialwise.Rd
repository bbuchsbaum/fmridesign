% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hrf-formula.R
\name{trialwise}
\alias{trialwise}
\title{trialwise}
\usage{
trialwise(
  basis = "spmg1",
  lag = 0,
  nbasis = 1,
  add_sum = FALSE,
  label = "trial"
)
}
\arguments{
\item{basis, lag, nbasis}{Passed straight to \code{hrf()}.}

\item{add_sum}{If TRUE, append a column that is the average of all
trialwise columns (useful as a conventional main effect).}

\item{label}{Term label / prefix for the generated columns.}
}
\value{
An \code{hrfspec} term to be used on the RHS of an event-model formula.
}
\description{
Generate one regressor per trial (plus an optional grand-mean column)
by delegating everything to \code{hrf()}.
}
\details{
Use it \strong{only on the RHS} of an event-model formula:

\if{html}{\out{<div class="sourceCode">}}\preformatted{onset ~ trialwise(basis = "spmg1", add_sum = TRUE)
}\if{html}{\out{</div>}}
}
\examples{
# Create sample event data
events <- data.frame(
  onset = c(2, 6, 10, 14, 18),
  block = c(1, 1, 2, 2, 2)
)

# Create sampling frame
sf <- fmrihrf::sampling_frame(blocklens = c(10, 10), TR = 2)

# Create trialwise model - one regressor per trial
model_trials <- event_model(
  onset ~ trialwise(basis = "spmg1", label = "trial"),
  data = events,
  block = ~block,
  sampling_frame = sf
)

# Check design matrix - should have 5 columns (one per trial)
dm_trials <- design_matrix(model_trials)
ncol(dm_trials)
colnames(dm_trials)

# With additional grand mean column
model_with_sum <- event_model(
  onset ~ trialwise(basis = "spmg1", add_sum = TRUE, label = "trial"),
  data = events,
  block = ~block,
  sampling_frame = sf
)

# Should have 6 columns (5 trials + 1 grand mean)
dm_with_sum <- design_matrix(model_with_sum)
ncol(dm_with_sum)
}
