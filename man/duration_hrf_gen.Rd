% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hrf-formula.R
\name{duration_hrf_gen}
\alias{duration_hrf_gen}
\title{Create duration-aware normalized HRF generator}
\usage{
duration_hrf_gen(base = fmrihrf::HRF_SPMG1, min_duration = 0)
}
\arguments{
\item{base}{Base HRF object. Default \code{fmrihrf::HRF_SPMG1}.}

\item{min_duration}{Minimum duration (prevents zero-width events). Default 0.}
}
\value{
A function for use with \code{hrf_fun} in \code{hrf()}.
}
\description{
Generator for use with the \code{hrf_fun} parameter in \code{hrf()}. Creates per-onset
HRFs by convolving a base HRF with a boxcar of each event's duration, then
normalizing to peak = 1. This preserves the temporal shape of the
duration-modulated response while equalizing amplitude across events.
}
\examples{
# Events with variable durations
trial_data <- data.frame(
  onset = c(0, 10, 25),
  duration = c(2, 5, 3),
  condition = c("A", "B", "A"),
  run = 1
)
sf <- fmrihrf::sampling_frame(blocklens = 50, TR = 2)

emod <- event_model(
  onset ~ hrf(condition, hrf_fun = duration_hrf_gen()),
  data = trial_data, block = ~run, sampling_frame = sf,
  durations = trial_data$duration
)
print(emod)

}
\seealso{
\code{\link[=boxcar_hrf_gen]{boxcar_hrf_gen()}} for duration-based boxcar HRFs
}
